/*! AeroGear JavaScript Library - v1.2.0 - 2013-10-15
* https://github.com/aerogear/aerogear-js
* JBoss, Home of Professional Open Source
* Copyright Red Hat, Inc., and individual contributors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
(function(e,t){this.AeroGear={},AeroGear.Core=function(){if(this instanceof AeroGear.Core)throw"Invalid instantiation of base class AeroGear.Core";this.add=function(e){var t,r,i=this[this.collectionName]||{};if(!e)return this;if("string"==typeof e)i[e]=AeroGear[this.lib].adapters[this.type](e);else if(AeroGear.isArray(e))for(t=0;e.length>t;t++)r=e[t],"string"==typeof r?i[r]=AeroGear[this.lib].adapters[this.type](r):i[r.name]=AeroGear[this.lib].adapters[r.type||this.type](r.name,r.settings||{});else i[e.name]=AeroGear[this.lib].adapters[e.type||this.type](e.name,e.settings||{});return this[this.collectionName]=i,this},this.remove=function(e){var t,r,i=this[this.collectionName]||{};if("string"==typeof e)delete i[e];else if(AeroGear.isArray(e))for(t=0;e.length>t;t++)r=e[t],"string"==typeof r?delete i[r]:delete i[r.name];else e&&delete i[e.name];return this[this.collectionName]=i,this}},AeroGear.isArray=function(e){return"[object Array]"==={}.toString.call(e)},function(){function e(e,t,r){var i=t&&r||0,n=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>n&&(t[i+n++]=g[e])});16>n;)t[i+n++]=0;return t}function t(e,t){var r=t||0,i=h;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}function r(e,r,i){var n=r&&i||0,a=r||[];e=e||{};var s=null!=e.clockseq?e.clockseq:A,o=null!=e.msecs?e.msecs:(new Date).getTime(),u=null!=e.nsecs?e.nsecs:P+1,p=o-x+(u-P)/1e4;if(0>p&&null==e.clockseq&&(s=16383&s+1),(0>p||o>x)&&null==e.nsecs&&(u=0),u>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");x=o,P=u,A=s,o+=122192928e5;var c=(1e4*(268435455&o)+u)%4294967296;a[n++]=255&c>>>24,a[n++]=255&c>>>16,a[n++]=255&c>>>8,a[n++]=255&c;var f=268435455&1e4*(o/4294967296);a[n++]=255&f>>>8,a[n++]=255&f,a[n++]=16|15&f>>>24,a[n++]=255&f>>>16,a[n++]=128|s>>>8,a[n++]=255&s;for(var d=e.node||v,l=0;6>l;l++)a[n+l]=d[l];return r?r:t(a)}function i(e,r,i){var n=r&&i||0;"string"==typeof e&&(r="binary"==e?new l(16):null,e=null),e=e||{};var a=e.random||(e.rng||d)();if(a[6]=64|15&a[6],a[8]=128|63&a[8],r)for(var s=0;16>s;s++)r[n+s]=a[s];return r||t(a)}var n,a,s,o=this,u=Array(16);if(n=function(){for(var e,e,t=u,r=0,r=0;16>r;r++)0==(3&r)&&(e=4294967296*Math.random()),t[r]=255&e>>>((3&r)<<3);return t},o.crypto&&crypto.getRandomValues){var p=new Uint32Array(4);s=function(){crypto.getRandomValues(p);for(var e=0;16>e;e++)u[e]=255&p[e>>2]>>>8*(3&e);return u}}try{var c=require("crypto").randomBytes;a=c&&function(){return c(16)}}catch(f){}for(var d=a||s||n,l="function"==typeof Buffer?Buffer:Array,h=[],g={},y=0;256>y;y++)h[y]=(y+256).toString(16).substr(1),g[h[y]]=y;var m=d(),v=[1|m[0],m[1],m[2],m[3],m[4],m[5]],A=16383&(m[6]<<8|m[7]),x=0,P=0,I=i;if(I.v1=r,I.v4=i,I.parse=e,I.unparse=t,I.BufferClass=l,I.mathRNG=n,I.nodeRNG=a,I.whatwgRNG=s,"undefined"!=typeof module)module.exports=I;else{var j=o.uuid;I.noConflict=function(){return o.uuid=j,I},o.uuid=I}}(),AeroGear.Pipeline=function(e){return this instanceof AeroGear.Pipeline?(AeroGear.Core.call(this),this.lib="Pipeline",this.type=e?e.type||"Rest":"Rest",this.collectionName="pipes",this.add(e),t):new AeroGear.Pipeline(e)},AeroGear.Pipeline.prototype=AeroGear.Core,AeroGear.Pipeline.constructor=AeroGear.Pipeline,AeroGear.Pipeline.adapters={},AeroGear.Pipeline.adapters.Rest=function(e,r){if(!(this instanceof AeroGear.Pipeline.adapters.Rest))return new AeroGear.Pipeline.adapters.Rest(e,r);r=r||{};var i=r.endpoint||e,n={url:r.baseURL?r.baseURL+i:i,contentType:r.contentType||"application/json",dataType:r.dataType||"json"},a=r.recordId||"id",s=r.authenticator||null,o=r.pageConfig,u=r.timeout?1e3*r.timeout:6e4;this.getAjaxSettings=function(){return n},this.getAuthenticator=function(){return s},this.getRecordId=function(){return a},this.getTimeout=function(){return u},this.getPageConfig=function(){return o},this.updatePageConfig=function(e,t){t?(o={},o.metadataLocation=e.metadataLocation?e.metadataLocation:"webLinking",o.previousIdentifier=e.previousIdentifier?e.previousIdentifier:"previous",o.nextIdentifier=e.nextIdentifier?e.nextIdentifier:"next",o.parameterProvider=e.parameterProvider?e.parameterProvider:null):jQuery.extend(o,e)},o&&this.updatePageConfig(o,!0),this.webLinkingPageParser=function(e){var r,i,n,a,s,u={};i=e.getResponseHeader("Link").split(",");for(var p in i){r=i[p].trim().split(";");for(var c in r)n=r[c].trim(),0===n.indexOf("<")&&n.lastIndexOf(">")===r[c].length-1?a=n.substr(1,n.length-2).split("?")[1]:0===n.indexOf("rel=")&&(n.indexOf(o.previousIdentifier)>=0?s=o.previousIdentifier:n.indexOf(o.nextIdentifier)>=0&&(s=o.nextIdentifier));s&&(u[s]=a,s=t)}return u},this.headerPageParser=function(e){var t=e.getResponseHeader(o.previousIdentifier),r=e.getResponseHeader(o.nextIdentifier),i={},n={};return o.parameterProvider?(i=o.parameterProvider(e),n[o.previousIdentifier]=i[o.previousIdentifier],n[o.nextIdentifier]=i[o.nextIdentifier]):(n[o.previousIdentifier]=t?t.split("?")[1]:null,n[o.nextIdentifier]=r?r.split("?")[1]:null),n},this.bodyPageParser=function(e){var t={},r={};return o.parameterProvider?(r=o.parameterProvider(e),t[o.previousIdentifier]=r[o.previousIdentifier],t[o.nextIdentifier]=r[o.nextIdentifier]):(t[o.previousIdentifier]=e[o.previousIdentifier],t[o.nextIdentifier]=e[o.nextIdentifier]),t},this.formatJSONError=function(e){if("json"===this.getAjaxSettings().dataType)try{e.responseJSON=JSON.parse(e.responseText)}catch(t){}return e}},AeroGear.Pipeline.adapters.Rest.prototype.read=function(e){var r,i,n,a,s=this,o=this.getRecordId(),u=this.getAjaxSettings(),p=this.getPageConfig();if(e=e?e:{},e.query=e.query?e.query:{},r=e[o]?u.url+"/"+e[o]:u.url,p&&e.paging!==!1){e.paging||(e.paging={offset:e.offsetValue||0,limit:e.limitValue||10}),e.query=e.query||{};for(var c in e.paging)e.query[c]=e.paging[c]}return i=function(r,i,n){var a;p&&e.paging!==!1&&(a=s[p.metadataLocation+"PageParser"]("body"===p.metadataLocation?r:n),["previous","next"].forEach(function(i){r[i]=function(e,r,i){return function(n){return i.paging=!0,i.offsetValue=i.limitValue=t,i.query=r,i.success=n&&n.success?n.success:i.success,i.error=n&&n.error?n.error:i.error,e.read(i)}}(s,a[p[i+"Identifier"]],e)})),e.success&&e.success.apply(this,arguments)},n=function(t){t=s.formatJSONError(t),e.error&&e.error.apply(this,arguments)},a={type:"GET",data:e.query,success:i,error:n,url:r,statusCode:e.statusCode,complete:e.complete,headers:e.headers,timeout:this.getTimeout()},e.jsonp&&(a.dataType="jsonp",a.jsonp=e.jsonp.callback?e.jsonp.callback:"callback",e.jsonp.customCallback&&(a.jsonpCallback=e.jsonp.customCallback)),jQuery.ajax(jQuery.extend({},this.getAjaxSettings(),a))},AeroGear.Pipeline.adapters.Rest.prototype.save=function(e,t){var r,i,n,a,s,o=this,u=this.getRecordId(),p=this.getAjaxSettings();return e=e||{},t=t||{},r=e[u]?"PUT":"POST",i=e[u]?p.url+"/"+e[u]:p.url,n=function(){t.success&&t.success.apply(this,arguments)},a=function(e){e=o.formatJSONError(e),t.error&&t.error.apply(this,arguments)},s=jQuery.extend({},p,{data:e,type:r,url:i,success:n,error:a,statusCode:t.statusCode,complete:t.complete,headers:t.headers,timeout:this.getTimeout()}),"application/json"===s.contentType&&s.data&&"string"!=typeof s.data&&(s.data=JSON.stringify(s.data)),jQuery.ajax(jQuery.extend({},this.getAjaxSettings(),s))},AeroGear.Pipeline.adapters.Rest.prototype.remove=function(e,t){var r,i,n,a,s,o=this,u=this.getRecordId(),p=this.getAjaxSettings(),c="";return"string"==typeof e||"number"==typeof e?r=e:e&&e[u]?r=e[u]:e&&!t&&(t=e),t=t||{},c=r?"/"+r:"",i=p.url+c,n=function(){t.success&&t.success.apply(this,arguments)},a=function(e){e=o.formatJSONError(e),t.error&&t.error.apply(this,arguments)},s={type:"DELETE",url:i,success:n,error:a,statusCode:t.statusCode,complete:t.complete,headers:t.headers,timeout:this.getTimeout()},jQuery.ajax(jQuery.extend({},p,s))}})(this);
//@ sourceMappingURL=aerogear.custom.map